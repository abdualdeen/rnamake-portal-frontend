{"remainingRequest":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/static/django_airavata_workspace/js/components/storage/ExperimentStorageViewContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/static/django_airavata_workspace/js/components/storage/ExperimentStorageViewContainer.vue","mtime":1639684988540},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js","mtime":1638646228889},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js","mtime":1638646225600},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/vue-loader/lib/index.js","mtime":1638646228900}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { errors, services, utils } from \"django-airavata-api\";\nimport ExperimentStoragePathViewer from \"./ExperimentStoragePathViewer.vue\";\n\nexport default {\n  name: \"experiment-storage-view-container\",\n  props: {\n    experimentId: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      experimentStoragePath: null,\n      experimentDataDirNotFound: false,\n    };\n  },\n  components: {\n    ExperimentStoragePathViewer,\n  },\n  created() {\n    return this.loadExperimentStoragePath(\"\");\n  },\n  computed: {\n    canDownloadDataDirectory() {\n      return this.experimentStoragePath && !this.experimentDataDirNotFound;\n    },\n  },\n  methods: {\n    loadExperimentStoragePath(path) {\n      return services.ExperimentStoragePathService.get(\n        {\n          experimentId: this.experimentId,\n          path,\n        },\n        { ignoreErrors: true }\n      )\n        .then((result) => (this.experimentStoragePath = result))\n        .catch((error) => {\n          if (\n            errors.ErrorUtils.isAPIException(error) &&\n            error.details.status === 404\n          ) {\n            this.experimentDataDirNotFound = true;\n          } else {\n            throw error;\n          }\n        })\n        .catch(utils.FetchUtils.reportError);\n    },\n    directorySelected(path) {\n      return this.loadExperimentStoragePath(path);\n    },\n  },\n};\n",{"version":3,"sources":["ExperimentStorageViewContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExperimentStorageViewContainer.vue","sourceRoot":"static/django_airavata_workspace/js/components/storage","sourcesContent":["<template>\n  <b-card>\n    <template #header>\n      <div class=\"d-flex justify-content-between\">\n        <h6 class=\"mb-0\">Experiment Data Directory</h6>\n        <b-link\n          v-if=\"canDownloadDataDirectory\"\n          :href=\"`/sdk/download-experiment-dir/${encodeURIComponent(\n            experimentId\n          )}/`\"\n        >\n          Download Zip\n          <i class=\"fa fa-file-archive\" aria-hidden=\"true\"></i>\n        </b-link>\n      </div>\n    </template>\n    <experiment-storage-path-viewer\n      v-if=\"experimentStoragePath\"\n      :experiment-storage-path=\"experimentStoragePath\"\n      :experiment-id=\"experimentId\"\n      @directory-selected=\"directorySelected\"\n      :download-in-new-window=\"true\"\n    ></experiment-storage-path-viewer>\n    <b-alert v-else-if=\"experimentDataDirNotFound\" show variant=\"warning\">\n      Experiment Data Directory does not exist in storage.\n    </b-alert>\n  </b-card>\n</template>\n\n<script>\nimport { errors, services, utils } from \"django-airavata-api\";\nimport ExperimentStoragePathViewer from \"./ExperimentStoragePathViewer.vue\";\n\nexport default {\n  name: \"experiment-storage-view-container\",\n  props: {\n    experimentId: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      experimentStoragePath: null,\n      experimentDataDirNotFound: false,\n    };\n  },\n  components: {\n    ExperimentStoragePathViewer,\n  },\n  created() {\n    return this.loadExperimentStoragePath(\"\");\n  },\n  computed: {\n    canDownloadDataDirectory() {\n      return this.experimentStoragePath && !this.experimentDataDirNotFound;\n    },\n  },\n  methods: {\n    loadExperimentStoragePath(path) {\n      return services.ExperimentStoragePathService.get(\n        {\n          experimentId: this.experimentId,\n          path,\n        },\n        { ignoreErrors: true }\n      )\n        .then((result) => (this.experimentStoragePath = result))\n        .catch((error) => {\n          if (\n            errors.ErrorUtils.isAPIException(error) &&\n            error.details.status === 404\n          ) {\n            this.experimentDataDirNotFound = true;\n          } else {\n            throw error;\n          }\n        })\n        .catch(utils.FetchUtils.reportError);\n    },\n    directorySelected(path) {\n      return this.loadExperimentStoragePath(path);\n    },\n  },\n};\n</script>\n"]}]}