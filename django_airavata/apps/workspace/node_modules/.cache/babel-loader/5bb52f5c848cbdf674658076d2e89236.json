{"remainingRequest":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/static/django_airavata_workspace/js/components/experiment/input-editors/MultiFileInputEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/static/django_airavata_workspace/js/components/experiment/input-editors/MultiFileInputEditor.vue","mtime":1638641844339},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js","mtime":1638646228889},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js","mtime":1638646225600},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/vue-loader/lib/index.js","mtime":1638646228900}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { InputEditorMixin } from \"django-airavata-workspace-plugin-api\";\nimport FileInputEditor from \"./FileInputEditor.vue\";\nimport InputFileSelector from \"./InputFileSelector\";\nexport default {\n  name: \"multi-file-input-editor\",\n  mixins: [InputEditorMixin],\n  props: {\n    value: {\n      type: String\n    }\n  },\n  components: {\n    FileInputEditor,\n    InputFileSelector\n  },\n\n  data() {\n    return {};\n  },\n\n  computed: {\n    selectedDataProductURIs() {\n      return this.createValueArray(this.value);\n    }\n\n  },\n  methods: {\n    updatedFile(newValue, dataProductURI) {\n      // Only remove is handled here, input-file-selector handles adding\n      if (!newValue) {\n        this.removeFile(dataProductURI);\n      }\n    },\n\n    removeFile(dataProductURI) {\n      var index = this.selectedDataProductURIs.findIndex(u => u === dataProductURI);\n      var copyDataProductURIs = this.selectedDataProductURIs.slice();\n      copyDataProductURIs.splice(index, 1);\n      this.data = copyDataProductURIs.join(\",\");\n      this.valueChanged();\n    },\n\n    createValueArray(value) {\n      if (value && typeof value === \"string\") {\n        return value.split(\",\");\n      } else {\n        return [];\n      }\n    },\n\n    fileSelected(dataProductURI) {\n      var values = this.createValueArray(this.value);\n      values.push(dataProductURI);\n      this.data = values.join(\",\");\n      this.valueChanged();\n    }\n\n  }\n};",{"version":3,"sources":["MultiFileInputEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAA,gBAAA,QAAA,sCAAA;AACA,OAAA,eAAA;AACA,OAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,yBADA;AAEA,EAAA,MAAA,EAAA,CAAA,gBAAA,CAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAHA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,eADA;AAEA,IAAA;AAFA,GARA;;AAYA,EAAA,IAAA,GAAA;AACA,WAAA,EAAA;AACA,GAdA;;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,uBAAA,GAAA;AACA,aAAA,KAAA,gBAAA,CAAA,KAAA,KAAA,CAAA;AACA;;AAHA,GAfA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,CAAA,QAAA,EAAA,cAAA,EAAA;AACA;AACA,UAAA,CAAA,QAAA,EAAA;AACA,aAAA,UAAA,CAAA,cAAA;AACA;AACA,KANA;;AAOA,IAAA,UAAA,CAAA,cAAA,EAAA;AACA,UAAA,KAAA,GAAA,KAAA,uBAAA,CAAA,SAAA,CACA,CAAA,IAAA,CAAA,KAAA,cADA,CAAA;AAGA,UAAA,mBAAA,GAAA,KAAA,uBAAA,CAAA,KAAA,EAAA;AACA,MAAA,mBAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,WAAA,IAAA,GAAA,mBAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,WAAA,YAAA;AACA,KAfA;;AAgBA,IAAA,gBAAA,CAAA,KAAA,EAAA;AACA,UAAA,KAAA,IAAA,OAAA,KAAA,KAAA,QAAA,EAAA;AACA,eAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,EAAA;AACA;AACA,KAtBA;;AAuBA,IAAA,YAAA,CAAA,cAAA,EAAA;AACA,UAAA,MAAA,GAAA,KAAA,gBAAA,CAAA,KAAA,KAAA,CAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,cAAA;AACA,WAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,WAAA,YAAA;AACA;;AA5BA;AApBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div\n      class=\"mb-2\"\n      v-for=\"dataProductURI in selectedDataProductURIs\"\n      :key=\"dataProductURI\"\n    >\n      <file-input-editor\n        :value=\"dataProductURI\"\n        :id=\"dataProductURI\"\n        :experiment=\"experiment\"\n        :experiment-input=\"experimentInput\"\n        :read-only=\"readOnly\"\n        @input=\"updatedFile($event, dataProductURI)\"\n      />\n    </div>\n    <input-file-selector\n      v-if=\"!readOnly\"\n      :selectedDataProductURIs=\"selectedDataProductURIs\"\n      @selected=\"fileSelected\"\n      @uploadstart=\"$emit('uploadstart')\"\n      @uploadend=\"$emit('uploadend')\"\n      multiple\n    />\n  </div>\n</template>\n\n<script>\nimport { InputEditorMixin } from \"django-airavata-workspace-plugin-api\";\nimport FileInputEditor from \"./FileInputEditor.vue\";\nimport InputFileSelector from \"./InputFileSelector\";\n\nexport default {\n  name: \"multi-file-input-editor\",\n  mixins: [InputEditorMixin],\n  props: {\n    value: {\n      type: String,\n    },\n  },\n  components: {\n    FileInputEditor,\n    InputFileSelector,\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    selectedDataProductURIs() {\n      return this.createValueArray(this.value);\n    },\n  },\n  methods: {\n    updatedFile(newValue, dataProductURI) {\n      // Only remove is handled here, input-file-selector handles adding\n      if (!newValue) {\n        this.removeFile(dataProductURI);\n      }\n    },\n    removeFile(dataProductURI) {\n      const index = this.selectedDataProductURIs.findIndex(\n        (u) => u === dataProductURI\n      );\n      const copyDataProductURIs = this.selectedDataProductURIs.slice();\n      copyDataProductURIs.splice(index, 1);\n      this.data = copyDataProductURIs.join(\",\");\n      this.valueChanged();\n    },\n    createValueArray(value) {\n      if (value && typeof value === \"string\") {\n        return value.split(\",\");\n      } else {\n        return [];\n      }\n    },\n    fileSelected(dataProductURI) {\n      const values = this.createValueArray(this.value);\n      values.push(dataProductURI);\n      this.data = values.join(\",\");\n      this.valueChanged();\n    },\n  },\n};\n</script>\n"],"sourceRoot":"static/django_airavata_workspace/js/components/experiment/input-editors"}]}