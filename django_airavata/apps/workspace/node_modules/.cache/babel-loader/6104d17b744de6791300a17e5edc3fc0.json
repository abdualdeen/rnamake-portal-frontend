{"remainingRequest":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/vanishing/git/airavata-django-portal/django_airavata/apps/api/static/django_airavata_api/js/models/BaseModel.js","dependencies":[{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/api/static/django_airavata_api/js/models/BaseModel.js","mtime":1638641844319},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js","mtime":1638646228889},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js","mtime":1638646225600},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1638646227499}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport BaseEnum from \"./BaseEnum\";\nexport default class BaseModel {\n  /**\n   * Create and optionally populate fields of a model instance.\n   * - fields: an Array of field definitions. Each field definition can either\n   *   be just the name of the field as a string, or an object with the\n   *   following properties:\n   *   - name (required)\n   *   - type (required: one of 'string', 'boolean', 'number', 'date', or a class reference)\n   *   - list (optional, boolean)\n   *   - default (optional, the default value to be used, if not specified then null is used)\n   * - data: a data object, typically a deserialized JSON response\n   */\n  constructor(fields) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    fields.forEach(fieldDefinition => {\n      if (typeof fieldDefinition === \"string\") {\n        this[fieldDefinition] = this.convertSimpleField(data[fieldDefinition], null);\n      } else {\n        // fieldDefinition must be an object\n        var fieldName = fieldDefinition.name;\n        var fieldType = fieldDefinition.type;\n        var fieldIsList = typeof fieldDefinition.list !== \"undefined\" ? fieldDefinition.list : false;\n        var fieldDefault = typeof fieldDefinition.default !== \"undefined\" ? this.getDefaultValue(fieldDefinition.default) : null;\n        var fieldValue = data[fieldName];\n\n        if (fieldIsList) {\n          this[fieldName] = fieldValue ? fieldValue.map(item => this.convertField(fieldType, item, fieldDefault)) : fieldDefault;\n        } else {\n          this[fieldName] = this.convertField(fieldType, fieldValue, fieldDefault);\n        }\n      }\n    });\n  }\n\n  convertField(fieldType, fieldValue, fieldDefault) {\n    if (fieldValue === null || typeof fieldValue === \"undefined\") {\n      return fieldDefault;\n    } else if (fieldType === \"string\" || fieldType === \"boolean\" || fieldType === \"number\") {\n      return this.convertSimpleField(fieldValue, fieldDefault);\n    } else if (fieldType === \"date\") {\n      return this.convertDateField(fieldValue, fieldDefault);\n    } else if (typeof fieldType === \"function\") {\n      // Assume that it is another BaseModel class\n      return this.convertModelField(fieldType, fieldValue, fieldDefault);\n    }\n  }\n\n  convertSimpleField(fieldValue, fieldDefault) {\n    return typeof fieldValue !== \"undefined\" ? fieldValue : fieldDefault;\n  }\n\n  convertDateField(fieldValue, fieldDefault) {\n    return typeof fieldValue !== \"undefined\" ? new Date(fieldValue) : fieldDefault;\n  }\n\n  convertModelField(modelClass, fieldValue, fieldDefault) {\n    if (typeof fieldValue !== \"undefined\") {\n      if (modelClass.prototype instanceof BaseEnum) {\n        // When cloning the fieldValue is an enum instance\n        if (fieldValue instanceof BaseEnum) {\n          return fieldValue;\n        }\n\n        var enumValue = null;\n\n        if (typeof fieldValue === \"string\") {\n          // convert by name if type is string\n          enumValue = modelClass.byName(fieldValue);\n        } else {\n          // Otherwise it is an integer that we need to convert to enum\n          enumValue = modelClass.byValue(fieldValue);\n        }\n\n        if (!enumValue) {\n          // enum wasn't found, construct an enum instance from the value\n          return new BaseEnum(`Unknown value: ${fieldValue}`, fieldValue);\n        } else {\n          return enumValue;\n        }\n      } else if (fieldValue instanceof modelClass) {\n        // No conversion necessary, just return the fieldValue\n        return fieldValue;\n      } else {\n        return new modelClass(fieldValue);\n      }\n    }\n\n    return fieldDefault;\n  }\n\n  getDefaultValue(fieldDefault) {\n    if (typeof fieldDefault === \"function\") {\n      return fieldDefault();\n    } else {\n      return fieldDefault;\n    }\n  }\n\n  static defaultNewInstance(classRef) {\n    return () => new classRef();\n  }\n  /**\n   * Override to provide validation. If there are validation errors this\n   * method should return a dictionary where keys are property names and\n   * values are an array of error messages.\n   */\n\n\n  validate() {\n    return null;\n  }\n\n  isEmpty(value) {\n    return value === null || typeof value === \"string\" && value.trim() === \"\" || value instanceof Array && value.length === 0;\n  }\n  /**\n   * Return a fully deep cloned instance of this instance.\n   */\n\n\n  clone() {\n    return new this.constructor(this);\n  }\n\n}",{"version":3,"sources":["/home/vanishing/git/airavata-django-portal/django_airavata/apps/api/static/django_airavata_api/js/models/BaseModel.js"],"names":["BaseEnum","BaseModel","constructor","fields","data","forEach","fieldDefinition","convertSimpleField","fieldName","name","fieldType","type","fieldIsList","list","fieldDefault","default","getDefaultValue","fieldValue","map","item","convertField","convertDateField","convertModelField","Date","modelClass","prototype","enumValue","byName","byValue","defaultNewInstance","classRef","validate","isEmpty","value","trim","Array","length","clone"],"mappings":"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","sourcesContent":["import BaseEnum from \"./BaseEnum\";\n\nexport default class BaseModel {\n  /**\n   * Create and optionally populate fields of a model instance.\n   * - fields: an Array of field definitions. Each field definition can either\n   *   be just the name of the field as a string, or an object with the\n   *   following properties:\n   *   - name (required)\n   *   - type (required: one of 'string', 'boolean', 'number', 'date', or a class reference)\n   *   - list (optional, boolean)\n   *   - default (optional, the default value to be used, if not specified then null is used)\n   * - data: a data object, typically a deserialized JSON response\n   */\n  constructor(fields, data = {}) {\n    fields.forEach((fieldDefinition) => {\n      if (typeof fieldDefinition === \"string\") {\n        this[fieldDefinition] = this.convertSimpleField(\n          data[fieldDefinition],\n          null\n        );\n      } else {\n        // fieldDefinition must be an object\n        let fieldName = fieldDefinition.name;\n        let fieldType = fieldDefinition.type;\n        let fieldIsList =\n          typeof fieldDefinition.list !== \"undefined\"\n            ? fieldDefinition.list\n            : false;\n        let fieldDefault =\n          typeof fieldDefinition.default !== \"undefined\"\n            ? this.getDefaultValue(fieldDefinition.default)\n            : null;\n        let fieldValue = data[fieldName];\n        if (fieldIsList) {\n          this[fieldName] = fieldValue\n            ? fieldValue.map((item) =>\n                this.convertField(fieldType, item, fieldDefault)\n              )\n            : fieldDefault;\n        } else {\n          this[fieldName] = this.convertField(\n            fieldType,\n            fieldValue,\n            fieldDefault\n          );\n        }\n      }\n    });\n  }\n\n  convertField(fieldType, fieldValue, fieldDefault) {\n    if (fieldValue === null || typeof fieldValue === \"undefined\") {\n      return fieldDefault;\n    } else if (\n      fieldType === \"string\" ||\n      fieldType === \"boolean\" ||\n      fieldType === \"number\"\n    ) {\n      return this.convertSimpleField(fieldValue, fieldDefault);\n    } else if (fieldType === \"date\") {\n      return this.convertDateField(fieldValue, fieldDefault);\n    } else if (typeof fieldType === \"function\") {\n      // Assume that it is another BaseModel class\n      return this.convertModelField(fieldType, fieldValue, fieldDefault);\n    }\n  }\n\n  convertSimpleField(fieldValue, fieldDefault) {\n    return typeof fieldValue !== \"undefined\" ? fieldValue : fieldDefault;\n  }\n\n  convertDateField(fieldValue, fieldDefault) {\n    return typeof fieldValue !== \"undefined\"\n      ? new Date(fieldValue)\n      : fieldDefault;\n  }\n\n  convertModelField(modelClass, fieldValue, fieldDefault) {\n    if (typeof fieldValue !== \"undefined\") {\n      if (modelClass.prototype instanceof BaseEnum) {\n        // When cloning the fieldValue is an enum instance\n        if (fieldValue instanceof BaseEnum) {\n          return fieldValue;\n        }\n        let enumValue = null;\n        if (typeof fieldValue === \"string\") {\n          // convert by name if type is string\n          enumValue = modelClass.byName(fieldValue);\n        } else {\n          // Otherwise it is an integer that we need to convert to enum\n          enumValue = modelClass.byValue(fieldValue);\n        }\n        if (!enumValue) {\n          // enum wasn't found, construct an enum instance from the value\n          return new BaseEnum(`Unknown value: ${fieldValue}`, fieldValue);\n        } else {\n          return enumValue;\n        }\n      } else if (fieldValue instanceof modelClass) {\n        // No conversion necessary, just return the fieldValue\n        return fieldValue;\n      } else {\n        return new modelClass(fieldValue);\n      }\n    }\n    return fieldDefault;\n  }\n\n  getDefaultValue(fieldDefault) {\n    if (typeof fieldDefault === \"function\") {\n      return fieldDefault();\n    } else {\n      return fieldDefault;\n    }\n  }\n\n  static defaultNewInstance(classRef) {\n    return () => new classRef();\n  }\n\n  /**\n   * Override to provide validation. If there are validation errors this\n   * method should return a dictionary where keys are property names and\n   * values are an array of error messages.\n   */\n  validate() {\n    return null;\n  }\n\n  isEmpty(value) {\n    return (\n      value === null ||\n      (typeof value === \"string\" && value.trim() === \"\") ||\n      (value instanceof Array && value.length === 0)\n    );\n  }\n\n  /**\n   * Return a fully deep cloned instance of this instance.\n   */\n  clone() {\n    return new this.constructor(this);\n  }\n}\n"]}]}