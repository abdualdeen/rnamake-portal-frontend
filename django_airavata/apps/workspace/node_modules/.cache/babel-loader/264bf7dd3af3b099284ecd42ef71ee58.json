{"remainingRequest":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/static/django_airavata_workspace/js/components/experiment/GroupResourceProfileSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/static/django_airavata_workspace/js/components/experiment/GroupResourceProfileSelector.vue","mtime":1638641844339},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/thread-loader/dist/cjs.js","mtime":1638646228889},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/babel-loader/lib/index.js","mtime":1638646225600},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/workspace/node_modules/vue-loader/lib/index.js","mtime":1638646228900}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { services } from \"django-airavata-api\";\nexport default {\n  name: \"group-resource-profile-selector\",\n  props: {\n    value: {\n      type: String\n    }\n  },\n  data: function data() {\n    return {\n      groupResourceProfileId: this.value,\n      groupResourceProfiles: [],\n      workspacePreferences: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.loadWorkspacePreferences().then(function () {\n      return _this.loadGroupResourceProfiles();\n    });\n  },\n  computed: {\n    groupResourceProfileOptions: function groupResourceProfileOptions() {\n      if (this.groupResourceProfiles && this.groupResourceProfiles.length > 0) {\n        var groupResourceProfileOptions = this.groupResourceProfiles.map(function (groupResourceProfile) {\n          return {\n            value: groupResourceProfile.groupResourceProfileId,\n            text: groupResourceProfile.groupResourceProfileName\n          };\n        });\n        groupResourceProfileOptions.sort(function (a, b) {\n          return a.text.localeCompare(b.text);\n        });\n        return groupResourceProfileOptions;\n      } else {\n        return [];\n      }\n    }\n  },\n  methods: {\n    loadGroupResourceProfiles: function loadGroupResourceProfiles() {\n      var _this2 = this;\n\n      return services.GroupResourceProfileService.list().then(function (groupResourceProfiles) {\n        _this2.groupResourceProfiles = groupResourceProfiles;\n\n        if ((!_this2.value || !_this2.selectedValueInGroupResourceProfileList(groupResourceProfiles)) && _this2.groupResourceProfiles && _this2.groupResourceProfiles.length > 0) {\n          // automatically select the last one user selected\n          _this2.groupResourceProfileId = _this2.workspacePreferences.most_recent_group_resource_profile_id;\n\n          _this2.emitValueChanged();\n        }\n      });\n    },\n    loadWorkspacePreferences: function loadWorkspacePreferences() {\n      var _this3 = this;\n\n      return services.WorkspacePreferencesService.get().then(function (workspacePreferences) {\n        return _this3.workspacePreferences = workspacePreferences;\n      });\n    },\n    groupResourceProfileChanged: function groupResourceProfileChanged(groupResourceProfileId) {\n      this.groupResourceProfileId = groupResourceProfileId;\n      this.emitValueChanged();\n    },\n    emitValueChanged: function emitValueChanged() {\n      this.$emit(\"input\", this.groupResourceProfileId);\n    },\n    selectedValueInGroupResourceProfileList: function selectedValueInGroupResourceProfileList(groupResourceProfiles) {\n      return groupResourceProfiles.map(function (grp) {\n        return grp.groupResourceProfileId;\n      }).indexOf(this.value) >= 0;\n    }\n  },\n  watch: {}\n};",{"version":3,"sources":["GroupResourceProfileSelector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,QAAA,QAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iCADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,sBAAA,EAAA,KAAA,KADA;AAEA,MAAA,qBAAA,EAAA,EAFA;AAGA,MAAA,oBAAA,EAAA;AAHA,KAAA;AAKA,GAbA;AAcA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,SAAA,wBAAA,GAAA,IAAA,CAAA,YAAA;AACA,aAAA,KAAA,CAAA,yBAAA,EAAA;AACA,KAFA;AAGA,GAlBA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,2BAAA,EAAA,uCAAA;AACA,UAAA,KAAA,qBAAA,IAAA,KAAA,qBAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,2BAAA,GAAA,KAAA,qBAAA,CAAA,GAAA,CACA,UAAA,oBAAA,EAAA;AACA,iBAAA;AACA,YAAA,KAAA,EAAA,oBAAA,CAAA,sBADA;AAEA,YAAA,IAAA,EAAA,oBAAA,CAAA;AAFA,WAAA;AAIA,SANA,CAAA;AAQA,QAAA,2BAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBACA,CAAA,CAAA,IAAA,CAAA,aAAA,CAAA,CAAA,CAAA,IAAA,CADA;AAAA,SAAA;AAGA,eAAA,2BAAA;AACA,OAbA,MAaA;AACA,eAAA,EAAA;AACA;AACA;AAlBA,GAnBA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,yBAAA,EAAA,qCAAA;AAAA;;AACA,aAAA,QAAA,CAAA,2BAAA,CAAA,IAAA,GAAA,IAAA,CACA,UAAA,qBAAA,EAAA;AACA,QAAA,MAAA,CAAA,qBAAA,GAAA,qBAAA;;AACA,YACA,CAAA,CAAA,MAAA,CAAA,KAAA,IACA,CAAA,MAAA,CAAA,uCAAA,CACA,qBADA,CADA,KAIA,MAAA,CAAA,qBAJA,IAKA,MAAA,CAAA,qBAAA,CAAA,MAAA,GAAA,CANA,EAOA;AACA;AACA,UAAA,MAAA,CAAA,sBAAA,GAAA,MAAA,CAAA,oBAAA,CAAA,qCAAA;;AACA,UAAA,MAAA,CAAA,gBAAA;AACA;AACA,OAfA,CAAA;AAiBA,KAnBA;AAoBA,IAAA,wBApBA,sCAoBA;AAAA;;AACA,aAAA,QAAA,CAAA,2BAAA,CAAA,GAAA,GAAA,IAAA,CACA,UAAA,oBAAA;AAAA,eACA,MAAA,CAAA,oBAAA,GAAA,oBADA;AAAA,OADA,CAAA;AAIA,KAzBA;AA0BA,IAAA,2BAAA,EAAA,qCAAA,sBAAA,EAAA;AACA,WAAA,sBAAA,GAAA,sBAAA;AACA,WAAA,gBAAA;AACA,KA7BA;AA8BA,IAAA,gBAAA,EAAA,4BAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,KAAA,sBAAA;AACA,KAhCA;AAiCA,IAAA,uCAjCA,mDAiCA,qBAjCA,EAiCA;AACA,aACA,qBAAA,CACA,GADA,CACA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,sBAAA;AAAA,OADA,EAEA,OAFA,CAEA,KAAA,KAFA,KAEA,CAHA;AAKA;AAvCA,GAvCA;AAgFA,EAAA,KAAA,EAAA;AAhFA,CAAA","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col\">\n      <b-form-group label=\"Allocation\" label-for=\"group-resource-profile\">\n        <b-form-select\n          id=\"group-resource-profile\"\n          v-model=\"groupResourceProfileId\"\n          :options=\"groupResourceProfileOptions\"\n          required\n          @change=\"groupResourceProfileChanged\"\n        >\n          <template slot=\"first\">\n            <option :value=\"null\" disabled>Select an allocation</option>\n          </template>\n        </b-form-select>\n      </b-form-group>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { services } from \"django-airavata-api\";\n\nexport default {\n  name: \"group-resource-profile-selector\",\n  props: {\n    value: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      groupResourceProfileId: this.value,\n      groupResourceProfiles: [],\n      workspacePreferences: null,\n    };\n  },\n  mounted: function () {\n    this.loadWorkspacePreferences().then(() => {\n      return this.loadGroupResourceProfiles();\n    });\n  },\n  computed: {\n    groupResourceProfileOptions: function () {\n      if (this.groupResourceProfiles && this.groupResourceProfiles.length > 0) {\n        const groupResourceProfileOptions = this.groupResourceProfiles.map(\n          (groupResourceProfile) => {\n            return {\n              value: groupResourceProfile.groupResourceProfileId,\n              text: groupResourceProfile.groupResourceProfileName,\n            };\n          }\n        );\n        groupResourceProfileOptions.sort((a, b) =>\n          a.text.localeCompare(b.text)\n        );\n        return groupResourceProfileOptions;\n      } else {\n        return [];\n      }\n    },\n  },\n  methods: {\n    loadGroupResourceProfiles: function () {\n      return services.GroupResourceProfileService.list().then(\n        (groupResourceProfiles) => {\n          this.groupResourceProfiles = groupResourceProfiles;\n          if (\n            (!this.value ||\n              !this.selectedValueInGroupResourceProfileList(\n                groupResourceProfiles\n              )) &&\n            this.groupResourceProfiles &&\n            this.groupResourceProfiles.length > 0\n          ) {\n            // automatically select the last one user selected\n            this.groupResourceProfileId = this.workspacePreferences.most_recent_group_resource_profile_id;\n            this.emitValueChanged();\n          }\n        }\n      );\n    },\n    loadWorkspacePreferences() {\n      return services.WorkspacePreferencesService.get().then(\n        (workspacePreferences) =>\n          (this.workspacePreferences = workspacePreferences)\n      );\n    },\n    groupResourceProfileChanged: function (groupResourceProfileId) {\n      this.groupResourceProfileId = groupResourceProfileId;\n      this.emitValueChanged();\n    },\n    emitValueChanged: function () {\n      this.$emit(\"input\", this.groupResourceProfileId);\n    },\n    selectedValueInGroupResourceProfileList(groupResourceProfiles) {\n      return (\n        groupResourceProfiles\n          .map((grp) => grp.groupResourceProfileId)\n          .indexOf(this.value) >= 0\n      );\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"static/django_airavata_workspace/js/components/experiment"}]}