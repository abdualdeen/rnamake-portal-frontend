(function(t){function e(e){for(var n,o,u=e[0],l=e[1],s=e[2],c=0,d=[];c<u.length;c++)o=u[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,s||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,u=1;u<r.length;u++){var l=r[u];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={"view-experiment":0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/django_airavata_workspace/dist/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var p=l;i.push([3,"chunk-vendors","chunk-common"]),r()})({3:function(t,e,r){t.exports=r("fa0f")},"876a":function(t,e,r){"use strict";var n=r("b916"),a=r.n(n);a.a},b916:function(t,e,r){},cad0:function(t,e,r){},e550:function(t,e,r){"use strict";var n=r("cad0"),a=r.n(n);a.a},fa0f:function(t,e,r){"use strict";r.r(e);var n=r("d4e1"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.fullExperiment?r("experiment-summary",{key:t.componentKey,attrs:{fullExperiment:t.fullExperiment,launching:t.launch},on:{Launched:t.handleLaunchedExperiment}}):t._e()},i=[],o=r("ac24"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-auto mr-auto"},[r("h1",{staticClass:"h4 mb-4"},[t._t("title",[t._v("Experiment Summary")])],2)]),r("div",{staticClass:"col-auto"},[r("share-button",{attrs:{"entity-id":t.experiment.experimentId}}),t.isEditable?r("b-link",{staticClass:"btn btn-primary",attrs:{href:t.editLink}},[t._v("\n        Edit\n        "),r("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})]):t._e(),t.isLaunchable?r("b-link",{staticClass:"btn btn-primary",on:{click:t.launch}},[t._v("\n        Launch\n        "),r("i",{staticClass:"fa fa-running",attrs:{"aria-hidden":"true"}})]):t._e(),t.isClonable?r("b-btn",{attrs:{variant:"primary"},on:{click:t.clone}},[t._v("\n        Clone\n        "),r("i",{staticClass:"fa fa-copy",attrs:{"aria-hidden":"true"}})]):t._e(),t.isCancelable?r("b-btn",{attrs:{variant:"primary"},on:{click:t.cancel}},[t._v("\n        Cancel\n        "),r("i",{staticClass:"fa fa-window-close",attrs:{"aria-hidden":"true"}})]):t._e()],1)]),t._l(t.experiment.experimentOutputs,(function(e){return[t.experiment.isFinished&&t.outputDataProducts[e.name].length>0?r("div",{key:e.name,staticClass:"row"},[r("div",{staticClass:"col"},[r("output-display-container",{attrs:{"experiment-output":e,"data-products":t.outputDataProducts[e.name],"output-views":t.localFullExperiment.outputViews[e.name],"experiment-id":t.experiment.experimentId}})],1)]):t._e()]})),t.experiment.isFinished?r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("experiment-storage-view-container",{attrs:{experimentId:t.experiment.experimentId}})],1)]):t._e(),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"card border-default"},[r("div",{staticClass:"card-body"},[r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Name")]),r("td",[r("div",{attrs:{title:t.experiment.experimentId}},[t._v("\n                    "+t._s(t.experiment.experimentName)+"\n                  ")]),r("small",{staticClass:"text-muted"},[t._v("\n                    ID: "+t._s(t.experiment.experimentId)+" ("),r("clipboard-copy-link",{attrs:{text:t.experiment.experimentId,"link-classes":["text-reset"]}},[t._v("\n                      copy\n                      "),r("span",{attrs:{slot:"icon"},slot:"icon"}),r("span",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("Copied ID!")])]),t._v(")\n                  ")],1)])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Description")]),r("td",[t._v(t._s(t.experiment.description))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Project")]),t.localFullExperiment.project?r("td",[t._v("\n                  "+t._s(t.localFullExperiment.projectName)+"\n                ")]):r("td",[r("em",[t._v("You don't have access to this project.")])])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Owner")]),r("td",[t._v(t._s(t.experiment.userName))])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Application")]),t.localFullExperiment.applicationName?r("td",[t._v("\n                  "+t._s(t.localFullExperiment.applicationName)+"\n                ")]):r("td",{staticClass:"font-italic text-muted"},[t._v("\n                  Unable to load interface\n                  "+t._s(t.localFullExperiment.experiment.executionId)+"\n                ")])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Compute Resource")]),t.localFullExperiment.computeHostName?r("td",[t._v("\n                  "+t._s(t.localFullExperiment.computeHostName)+"\n                ")]):r("td",{staticClass:"font-italic text-muted"},[t._v("\n                  Unable to load compute resource\n                  "+t._s(t.localFullExperiment.resourceHostId)+"\n                ")])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Experiment Status")]),r("td",[t.localFullExperiment.experiment.isProgressing?[r("i",{staticClass:"fa fa-sync-alt fa-spin"}),r("span",{staticClass:"sr-only"},[t._v("Progressing...")])]:t._e(),t._v("\n                  "+t._s(t.localFullExperiment.experimentStatusName)+"\n                ")],2)]),t.localFullExperiment.jobDetails&&t.localFullExperiment.jobDetails.length>0?r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Job")]),r("td",[r("table",{staticClass:"table"},[t._m(0),t._l(t.localFullExperiment.jobDetails,(function(e,n){return r("tr",{key:e.jobId},[r("td",[t._v(t._s(e.jobName))]),r("td",[t._v(t._s(e.jobId))]),r("td",[t._v(t._s(e.jobStatusStateName))]),r("td",[r("span",{attrs:{title:e.creationTime.toString()}},[t._v(t._s(t.jobCreationTimes[n]))])])])}))],2)])]):t._e(),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Creation Time")]),r("td",[r("span",{attrs:{title:t.experiment.creationTime.toString()}},[t._v(t._s(t.creationTime))])])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Last Modified Time")]),r("td",[r("span",{attrs:{title:t.localFullExperiment.experimentStatus.timeOfStateChange.toString()}},[t._v(t._s(t.lastModifiedTime))])])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Wall Time Limit")]),r("td",[t._v("\n                  "+t._s(t.experiment.userConfigurationData.computationalResourceScheduling.wallTimeLimit)+"\n                  minutes\n                ")])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("CPU Count")]),r("td",[t._v("\n                  "+t._s(t.experiment.userConfigurationData.computationalResourceScheduling.totalCPUCount)+"\n                ")])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Node Count")]),r("td",[t._v("\n                  "+t._s(t.experiment.userConfigurationData.computationalResourceScheduling.nodeCount)+"\n                ")])]),t.experiment.userConfigurationData.computationalResourceScheduling.totalPhysicalMemory?r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Total Physical Memory")]),r("td",[t._v("\n                  "+t._s(t.experiment.userConfigurationData.computationalResourceScheduling.totalPhysicalMemory.toLocaleString())+"\n                  MB\n                ")])]):t._e(),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Queue")]),r("td",[t._v("\n                  "+t._s(t.experiment.userConfigurationData.computationalResourceScheduling.queueName)+"\n                ")])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Inputs")]),r("td",[r("ul",t._l(t.experiment.experimentInputs,(function(e){return r("li",{key:e.name},[t._v("\n                      "+t._s(e.name)+":\n                      "),e.type.isSimpleValueType?[r("span",{staticClass:"text-break"},[t._v(t._s(e.value))])]:e.type.isFileValueType?t._l(t.inputDataProducts[e.name],(function(t){return r("data-product-viewer",{key:t.productUri,attrs:{"data-product":t,"input-file":!0}})})):t._e()],2)})),0)])]),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Errors")]),r("td",t._l(t.experiment.errors,(function(e){return r("b-card",{key:e.errorId,attrs:{header:"Error"}},[r("p",[t._v(t._s(e.userFriendlyMessage))])])})),1)])])])])])])])],2)},l=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("th",[t._v("Name")]),r("th",[t._v("ID")]),r("th",[t._v("Status")]),r("th",[t._v("Creation Time")])])}],s=(r("7514"),r("28a5"),r("7f7f"),r("ac6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",[r("div",{staticClass:"d-flex align-items-baseline",attrs:{slot:"header"},slot:"header"},[r("h6",[t._v(t._s(t.experimentOutput.name))]),t.showMenu?r("b-dropdown",{staticClass:"ml-auto",attrs:{text:t.currentView["name"]}},t._l(t.outputViews,(function(e){return r("b-dropdown-item",{key:e["provider-id"],attrs:{active:e["provider-id"]===t.currentView["provider-id"]},on:{click:function(r){return t.selectView(e)}}},[t._v(t._s(e["name"]))])})),1):t._e()],1),r(t.outputDisplayComponentName,{tag:"component",attrs:{"view-data":t.viewData,"data-products":t.dataProducts,"experiment-output":t.experimentOutput}}),t.viewData&&t.viewData.interactive?r("interactive-parameters-panel",{ref:"interactiveParametersPanel",attrs:{parameters:t.viewData.interactive},on:{input:t.parametersUpdated}}):t._e()],1)}),p=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.dataProducts,(function(e){return r("div",{key:e.productUri},[e.isImage&&e.downloadURL?r("img",{staticClass:"image-preview rounded",attrs:{src:e.downloadURL}}):t._e(),r("data-product-viewer",{attrs:{"data-product":e,"mime-type":t.fileMimeType}})],1)})),0)},d=[],m=r("ce95"),h={name:"default-output-viewer",props:{experimentOutput:{type:o["b"].OutputDataObjectType,required:!0},dataProducts:{type:Array,required:!0}},components:{DataProductViewer:m["a"]},computed:{fileMimeType:function(){return this.experimentOutput.fileMetadataMimeType?this.experimentOutput.fileMetadataMimeType:this.experimentOutput.type===o["b"].DataType.STDOUT||this.experimentOutput.type===o["b"].DataType.STDERR?"text/plain":null}}},f=h,v=(r("e550"),r("2877")),x=Object(v["a"])(f,c,d,!1,null,"0c72e9c0",null),y=x.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{domProps:{innerHTML:t._s(t.rawOutput)}})},_=[],w={name:"html-output-display",props:{viewData:{type:Object,required:!0}},computed:{rawOutput:function(){return this.viewData&&this.viewData.output?this.viewData.output:null},rawJSFile:function(){return this.viewData&&this.viewData.js?this.viewData.js:null}},methods:{loadScripts:function(){var t=this;return new Promise((function(e){var r=document.createElement("script");r.src=t.rawJSFile,r.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(r),r.addEventListener("load",(function(){e()}))}))}},watch:{rawJSFile:function(){this.rawJSFile&&this.loadScripts()}}},g=w,E=Object(v["a"])(g,b,_,!1,null,null,null),D=E.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.dataUrl?r("img",{attrs:{src:t.dataUrl}}):t._e()},P=[],S={name:"image-output-display",props:{viewData:{type:Object,required:!0}},computed:{dataUrl:function(){return this.viewData&&this.viewData.image?"data:".concat(this.viewData["mime-type"],";base64,").concat(this.viewData["image"]):null}}},C=S,k=Object(v["a"])(C,O,P,!1,null,null,null),I=k.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:t.viewData.url}},[t._v(t._s(t.viewData.label))])},j=[],T={name:"link-output-display",props:{viewData:{type:Object,required:!0}}},V=T,N=Object(v["a"])(V,F,j,!1,null,null,null),$=N.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("iframe",{attrs:{src:t.url}})},M=[],L={name:"notebook-output-display",props:{experimentOutput:{type:o["b"].OutputDataObjectType,required:!0},dataProducts:{type:Array,required:!0},experimentId:{type:String,required:!0},providerId:{type:String,required:!0}},data:function(){return{rawOutput:null}},computed:{url:function(){return"/api/notebook-output?experiment-id="+encodeURIComponent(this.experimentId)+"&experiment-output-name="+encodeURIComponent(this.experimentOutput.name)+"&provider-id="+encodeURIComponent(this.providerId)}}},q=L,R=(r("876a"),Object(v["a"])(q,U,M,!1,null,"4f2893f6",null)),J=R.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{attrs:{title:"Parameters"}},[r("validated-form",{ref:"validatedForm",attrs:{items:t.formItems},scopedSlots:t._u([{key:"default",fn:function(e){return r("interactive-parameter-widget-container",{attrs:{parameter:e.item},on:{valid:e.valid,invalid:e.invalid,input:function(r){return t.updated(e.item,r)}}})}}])})],1)},W=[],z=(r("20d6"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(t.widgetComponent,{tag:"compoment",attrs:{value:t.parameter.value,parameter:t.parameter},on:{input:function(e){return t.$emit("input",e)},valid:function(e){return t.$emit("valid")},invalid:function(e){return t.$emit("invalid",e)}}})}),A=[],K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form-checkbox",{attrs:{checked:t.value},on:{input:function(e){return t.$emit("input",e)}}})},H=[],Z={name:"interactive-parameter-checkbox-widget",props:{value:{type:Boolean,required:!0}}},G=Z,Q=Object(v["a"])(G,K,H,!1,null,null,null),Y=Q.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-form-input",{ref:"rangeInput",attrs:{type:"range",value:t.value,min:t.parameter.min,max:t.parameter.max,step:t.parameter.step||"any"},on:{input:t.updateValue,mouseup:t.mouseUp,keyup:t.keyUp}}),r("small",[t._v("Value: "+t._s(t.roundedValue))])],1)},tt=[],et=(r("c5f6"),{name:"interactive-parameter-range-widget",props:{value:{type:Number,required:!0},parameter:{type:Object}},data:function(){return{currentValue:parseFloat(this.value)}},computed:{disabled:function(){return this.currentValue===this.initialValue},initialValue:function(){return parseFloat(this.value)},roundedValue:function(){return this.currentValue?this.currentValue.toFixed(2):null}},methods:{updateValue:function(t){this.currentValue=parseFloat(t)},submit:function(){this.$emit("input",this.currentValue)},mouseUp:function(){this.$refs.rangeInput.blur(),this.disabled||this.submit()},keyUp:function(){}}}),rt=et,nt=Object(v["a"])(rt,X,tt,!1,null,null,null),at=nt.exports,it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form-select",{attrs:{value:t.value,options:t.options},on:{input:function(e){return t.$emit("input",e)}}})},ot=[],ut={name:"interactive-parameter-select-widget",props:{value:{type:String,required:!0},parameter:{type:Object,required:!0}},computed:{options:function(){return this.parameter.options}}},lt=ut,st=Object(v["a"])(lt,it,ot,!1,null,null,null),pt=st.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-input-group",[r("b-form-input",{ref:"textInput",attrs:{type:"number",value:t.value,min:t.parameter.min,max:t.parameter.max,step:t.parameter.step||"any"},on:{input:t.updateValue},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterKeyPressed(e)}}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"primary",disabled:t.disabled},on:{click:t.submit}},[t._v("Submit")])],1)],1)},dt=[],mt={name:"interactive-parameter-stepper-widget",props:{value:{type:Number,required:!0},parameter:{type:Object}},data:function(){return{currentValue:parseFloat(this.value),valid:!1}},computed:{disabled:function(){return!this.valid||this.currentValue===parseFloat(this.value)}},methods:{updateValue:function(t){"max"in this.parameter&&(t=Math.min(this.parameter.max,t)),"min"in this.parameter&&(t=Math.max(this.parameter.min,t)),this.currentValue=parseFloat(t),this.$refs.textInput.validity.valid?(this.valid=!0,this.$emit("valid")):(this.valid=!1,this.$emit("invalid",this.$refs.textInput.validationMessage))},submit:function(){this.disabled||this.$emit("input",this.currentValue)},enterKeyPressed:function(){this.disabled||(this.$refs.textInput.blur(),this.submit())}}},ht=mt,ft=Object(v["a"])(ht,ct,dt,!1,null,null,null),vt=ft.exports,xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-input-group",[r("b-form-input",{ref:"textInput",attrs:{value:t.value},on:{input:function(e){t.currentValue=e}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterKeyPressed(e)}}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"primary",disabled:t.disabled},on:{click:t.submit}},[t._v("Submit")])],1)],1)},yt=[],bt={name:"interactive-parameter-text-input-widget",props:{value:{type:String,required:!0}},data:function(){return{currentValue:this.value}},computed:{disabled:function(){return this.currentValue===this.value}},methods:{submit:function(){this.$emit("input",this.currentValue)},enterKeyPressed:function(){this.disabled||(this.$refs.textInput.blur(),this.submit())}}},_t=bt,wt=Object(v["a"])(_t,xt,yt,!1,null,null,null),gt=wt.exports,Et={name:"interactive-parameter-widget-container",props:{parameter:{type:Object,required:!0}},components:{InteractiveParameterCheckboxWidget:Y,InteractiveParameterRangeWidget:at,InteractiveParameterSelectWidget:pt,InteractiveParameterStepperWidget:vt,InteractiveParameterTextInputWidget:gt},computed:{widgetComponent:function(){return this.parameter.options?pt:"boolean"===this.parameter.type||this.parameter.widget&&"checkbox"===this.parameter.widget?Y:"string"===this.parameter.type||this.parameter.widget&&"textinput"===this.parameter.widget?gt:("float"===this.parameter.type||"integer"===this.parameter.type)&&"min"in this.parameter&&"max"in this.parameter?at:"float"===this.parameter.type||"integer"===this.parameter.type||this.parameter.widget&&"stepper"===this.parameter.widget?vt:null}}},Dt=Et,Ot=Object(v["a"])(Dt,z,A,!1,null,null,null),Pt=Ot.exports,St={name:"interactive-parameters-panel",components:{InteractiveParameterWidgetContainer:Pt,"validated-form":n["a"].ValidatedForm},props:{parameters:{type:Array,required:!0}},computed:{formItems:function(){return this.localParameters.map((function(t){return{key:t.name,label:t.label||t.name,item:t,description:t.help}}))},valid:function(){return this.$refs.validatedForm.valid}},data:function(){return{localParameters:this.parametersCopy()}},methods:{updated:function(t,e){var r=this.localParameters.findIndex((function(e){return e.name===t.name}));this.localParameters[r].value=e,this.$emit("input",this.localParameters)},parametersCopy:function(){return JSON.parse(JSON.stringify(this.parameters))}},watch:{parameters:function(){this.localParameters=this.parametersCopy()}}},Ct=St,kt=Object(v["a"])(Ct,B,W,!1,null,null,null),It=kt.exports,Ft=(r("8e6e"),r("456d"),r("bd86")),jt=r("d225"),Tt=r("b0b4");function Vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vt(r,!0).forEach((function(e){Object(Ft["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $t=!1,Ut=function(){function t(e){var r=e.url,n=e.experimentId,a=e.experimentOutputName,i=e.providerId;Object(jt["a"])(this,t),this.url=r,this.experimentId=n,this.experimentOutputName=a,this.providerId=i,this.data=null}return Object(Tt["a"])(t,[{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&this.data&&(this.data.interactive=e),o["e"].FetchUtils.get(this.url,Nt({"experiment-id":this.experimentId,"experiment-output-name":this.experimentOutputName,"provider-id":this.providerId,"test-mode":$t},this.createInteractiveParams())).then((function(e){return t.data=e,e}))}},{key:"createInteractiveParams",value:function(){var t={},e={};return this.data&&this.data.interactive&&this.data.interactive.forEach((function(r){t[r.name]=r.value,e[r.name]={type:r.type}})),Object.keys(e).length>0&&(t._meta=JSON.stringify(e)),t}}]),t}(),Mt={name:"output-viewer-container",props:{experimentOutput:{type:o["b"].OutputDataObjectType,required:!0},outputViews:{type:Array,required:!0},dataProducts:{type:Array,required:!1,default:null},experimentId:{type:String,required:!0}},components:{"data-product-viewer":n["a"].DataProductViewer,DefaultOutputDisplay:y,HtmlOutputDisplay:D,ImageOutputDisplay:I,LinkOutputDisplay:$,NotebookOutputDisplay:J,InteractiveParametersPanel:It},created:function(){"default"!==this.providerId&&(this.loader=this.createLoader(),this.loader.load())},data:function(){return{currentView:this.outputViews[0],loader:null}},computed:{viewData:function(){return this.loader&&this.loader.data?this.loader.data:this.outputViewData},outputViewData:function(){return this.currentView.data?this.currentView.data:{}},displayTypeData:function(){return{default:{component:"default-output-display",url:null},link:{component:"link-output-display",url:"/api/link-output/"},notebook:{component:"notebook-output-display",url:"/api/notebook-output/"},html:{component:"html-output-display",url:"/api/html-output/"},image:{component:"image-output-display",url:"/api/image-output/"}}},displayType:function(){return this.currentView["display-type"]},outputDisplayComponentName:function(){return this.displayType in this.displayTypeData?this.displayTypeData[this.displayType].component:null},outputDataURL:function(){return this.displayType in this.displayTypeData?this.displayTypeData[this.displayType].url:null},showMenu:function(){return this.outputViews.length>1},providerId:function(){return this.currentView["provider-id"]},hasInteractiveParameters:function(){return this.viewData&&this.viewData.interactive}},methods:{selectView:function(t){this.currentView=t,null===this.outputDataURL?this.loader=null:(this.loader=this.createLoader(),this.loader.load())},parametersUpdated:function(t){this.hasInteractiveParameters&&!this.$refs.interactiveParametersPanel.valid||this.loader.load(t)},createLoader:function(){return new Ut({url:this.outputDataURL,experimentId:this.experimentId,experimentOutputName:this.experimentOutput.name,providerId:this.providerId})}}},Lt=Mt,qt=Object(v["a"])(Lt,s,p,!1,null,null,null),Rt=qt.exports,Jt=r("ec54"),Bt=r("c1df"),Wt=r.n(Bt),zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"d-flex justify-content-between"},[r("h6",{staticClass:"mb-0"},[t._v("Experiment Data Directory")]),t.canDownloadDataDirectory?r("b-link",{attrs:{href:"/sdk/download-experiment-dir/"+encodeURIComponent(t.experimentId)+"/"}},[t._v("\n        Download Zip\n        "),r("i",{staticClass:"fa fa-file-archive",attrs:{"aria-hidden":"true"}})]):t._e()],1)]},proxy:!0}])},[t.experimentStoragePath?r("experiment-storage-path-viewer",{attrs:{"experiment-storage-path":t.experimentStoragePath,"experiment-id":t.experimentId,"download-in-new-window":!0},on:{"directory-selected":t.directorySelected}}):t.experimentDataDirNotFound?r("b-alert",{attrs:{show:"",variant:"warning"}},[t._v("\n    Experiment Data Directory does not exist in storage.\n  ")]):t._e()],1)},At=[],Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.experimentStoragePath?r("storage-path-breadcrumb",{attrs:{parts:t.experimentStoragePath.parts,rootName:"Exp Data Dir"},on:{"directory-selected":function(e){return t.$emit("directory-selected",e)}}}):t._e(),t.experimentStoragePath?r("b-table",{attrs:{fields:t.fields,items:t.items,"sort-by":"name"},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return["dir"===e.item.type?r("b-link",{on:{click:function(r){return t.directorySelected(e.item)}}},[r("i",{staticClass:"fa fa-folder-open"}),t._v(" "+t._s(e.item.name))]):r("b-link",{attrs:{href:e.item.downloadURL,target:t.downloadTarget}},[t._v("\n        "+t._s(e.item.name))])]}},{key:"cell(createdTimestamp)",fn:function(t){return[r("human-date",{attrs:{date:t.item.createdTime}})]}},{key:"cell(actions)",fn:function(e){return["file"===e.item.type?r("b-link",{staticClass:"action-link",attrs:{href:e.item.downloadURL+"&download"}},[t._v("\n        Download File\n        "),r("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}})]):t._e(),"dir"===e.item.type?r("b-link",{staticClass:"action-link",attrs:{href:"/sdk/download-experiment-dir/"+encodeURIComponent(t.experimentId)+"/?path="+e.item.path}},[t._v("\n        Download Zip\n        "),r("i",{staticClass:"fa fa-file-archive",attrs:{"aria-hidden":"true"}})]):t._e()]}}],null,!1,2369890611)}):t._e()],1)},Ht=[],Zt=r("017c"),Gt={name:"experiment-storage-path-viewer",props:{experimentStoragePath:{required:!0},downloadInNewWindow:{type:Boolean,default:!1},experimentId:{required:!0}},components:{"human-date":n["a"].HumanDate,StoragePathBreadcrumb:Zt["a"]},computed:{fields:function(){var t=this;return[{label:"Name",key:"name",sortable:!0},{label:"Size",key:"size",sortable:!0,formatter:function(e){return t.getFormattedSize(e)}},{label:"Created Time",key:"createdTimestamp",sortable:!0},{label:"Actions",key:"actions"}]},items:function(){if(this.experimentStoragePath){var t=this.experimentStoragePath.directories.filter((function(t){return!t.hidden})).map((function(t){return{name:t.name,path:t.path,type:"dir",createdTime:t.createdTime,createdTimestamp:t.createdTime.getTime(),size:t.size}})),e=this.experimentStoragePath.files.map((function(t){return{name:t.name,mimeType:t.mimeType,type:"file",dataProductURI:t.dataProductURI,downloadURL:t.downloadURL,createdTime:t.createdTime,createdTimestamp:t.createdTime.getTime(),size:t.size}}));return t.concat(e)}return[]},downloadTarget:function(){return this.downloadInNewWindow?"_blank":"_self"}},methods:{getFormattedSize:function(t){return t>Math.pow(2,30)?Math.round(t/Math.pow(2,30))+" GB":t>Math.pow(2,20)?Math.round(t/Math.pow(2,20))+" MB":t>Math.pow(2,10)?Math.round(t/Math.pow(2,10))+" KB":t+" bytes"},directorySelected:function(t){this.$emit("directory-selected",t.path)}}},Qt=Gt,Yt=Object(v["a"])(Qt,Kt,Ht,!1,null,null,null),Xt=Yt.exports,te={name:"experiment-storage-view-container",props:{experimentId:{type:String,required:!0}},data:function(){return{experimentStoragePath:null,experimentDataDirNotFound:!1}},components:{ExperimentStoragePathViewer:Xt},created:function(){return this.loadExperimentStoragePath("")},computed:{canDownloadDataDirectory:function(){return this.experimentStoragePath&&!this.experimentDataDirNotFound}},methods:{loadExperimentStoragePath:function(t){var e=this;return o["c"].ExperimentStoragePathService.get({experimentId:this.experimentId,path:t},{ignoreErrors:!0}).then((function(t){return e.experimentStoragePath=t})).catch((function(t){if(!o["a"].ErrorUtils.isAPIException(t)||404!==t.details.status)throw t;e.experimentDataDirNotFound=!0})).catch(o["e"].FetchUtils.reportError)},directorySelected:function(t){return this.loadExperimentStoragePath(t)}}},ee=te,re=Object(v["a"])(ee,zt,At,!1,null,null,null),ne=re.exports,ae={name:"experiment-summary",props:{fullExperiment:{type:o["b"].FullExperiment,required:!0},launching:{type:Boolean,default:!1}},data:function(){return{localFullExperiment:this.fullExperiment.clone()}},components:{"clipboard-copy-link":n["a"].ClipboardCopyLink,"share-button":n["a"].ShareButton,OutputDisplayContainer:Rt,ExperimentStorageViewContainer:ne,DataProductViewer:m["a"]},computed:{inputDataProducts:function(){var t=this,e={};return this.localFullExperiment&&this.localFullExperiment.inputDataProducts&&this.localFullExperiment.experiment.experimentInputs.forEach((function(r){e[r.name]=t.getDataProducts(r,t.localFullExperiment.inputDataProducts)})),e},outputDataProducts:function(){var t=this,e={};return this.localFullExperiment&&this.localFullExperiment.outputDataProducts&&this.localFullExperiment.experiment.experimentOutputs.forEach((function(r){e[r.name]=t.getDataProducts(r,t.localFullExperiment.outputDataProducts)})),e},creationTime:function(){return Wt()(this.localFullExperiment.experiment.creationTime).fromNow()},lastModifiedTime:function(){return Wt()(this.localFullExperiment.experimentStatus.timeOfStateChange).fromNow()},experiment:function(){return this.localFullExperiment.experiment},jobCreationTimes:function(){return this.localFullExperiment.jobDetails.map((function(t){return Wt()(t.creationTime).fromNow()}))},editLink:function(){return Jt["a"].editExperiment(this.experiment)},isEditable:function(){return this.experiment.isEditable&&this.localFullExperiment.applicationName&&!this.launching},isLaunchable:function(){return this.isEditable},isClonable:function(){return this.localFullExperiment.applicationName},isCancelable:function(){return this.localFullExperiment.experiment.isCancelable}},methods:{loadExperiment:function(){var t=this;return o["c"].FullExperimentService.retrieve({lookup:this.localFullExperiment.experiment.experimentId},{ignoreErrors:!0,showSpinner:!1}).then((function(e){return t.localFullExperiment=e}))},initPollingExperiment:function(){var t=function(){var e=this;(this.launching&&!this.localFullExperiment.experiment.hasLaunched||this.localFullExperiment.experiment.isProgressing)&&this.loadExperiment().then((function(){setTimeout(t.bind(e),3e3)})).catch((function(){setTimeout(t.bind(e),3e4)}))}.bind(this);setTimeout(t,3e3)},clone:function(){o["c"].ExperimentService.clone({lookup:this.experiment.experimentId}).then((function(t){Jt["a"].navigateToEditExperiment(t)}))},launch:function(){var t=this;o["c"].ExperimentService.launch({lookup:this.experiment.experimentId}).then((function(){t.$emit("Launched")}))},cancel:function(){o["c"].ExperimentService.cancel({lookup:this.experiment.experimentId}).then((function(){n["d"].NotificationList.add(new n["d"].Notification({type:"SUCCESS",message:"Cancel-experiment requested",duration:5}))}))},getDataProducts:function(t,e){if(!t.value||!e)return[];var r=null;if(t.type===o["b"].DataType.URI_COLLECTION){var n=t.value.split(",");r=n.map((function(t){return e.find((function(e){return e.productUri===t}))}))}else{var a=t.value;r=e.filter((function(t){return t.productUri===a}))}return r?r.filter((function(t){return!!t})):[]}},watch:{launching:function(t){1==t&&this.initPollingExperiment()}},mounted:function(){this.initPollingExperiment()}},ie=ae,oe=Object(v["a"])(ie,u,l,!1,null,null,null),ue=oe.exports,le={name:"view-experiment-container",props:{initialFullExperimentData:{required:!0},launching:{type:Boolean,default:!1}},data:function(){return{fullExperiment:null,componentKey:0,launch:this.launching}},components:{ExperimentSummary:ue},methods:{handleLaunchedExperiment:function(){this.launch=!0,this.componentKey=1}},computed:{},beforeMount:function(){var t=this;o["c"].FullExperimentService.retrieve({lookup:this.initialFullExperimentData.experimentId,initialFullExperimentData:this.initialFullExperimentData}).then((function(e){return t.fullExperiment=e}))}},se=le,pe=Object(v["a"])(se,a,i,!1,null,null,null),ce=pe.exports;Object(n["b"])((function(t){new t({render:function(t){return t(n["a"].MainLayout,[t(ce,{props:{initialFullExperimentData:this.fullExperimentData,launching:this.launching}})])},data:function(){return{fullExperimentData:null,launching:!1}},beforeMount:function(){this.fullExperimentData=JSON.parse(this.$el.dataset.fullExperimentData),"launching"in this.$el.dataset&&(this.launching=JSON.parse(this.$el.dataset.launching))}}).$mount("#view-experiment")}))}});
//# sourceMappingURL=view-experiment.8ac53969.js.map