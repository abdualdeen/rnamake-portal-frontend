{"remainingRequest":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/groups/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vanishing/git/airavata-django-portal/django_airavata/apps/groups/static/django_airavata_groups/js/group_components/GroupListItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/groups/static/django_airavata_groups/js/group_components/GroupListItem.vue","mtime":1638641844336},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/groups/node_modules/babel-loader/lib/index.js","mtime":1638646321845},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/groups/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/groups/node_modules/vue-loader/lib/index.js","mtime":1638646324785}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { services } from \"django-airavata-api\";\nimport { components } from \"django-airavata-common-ui\";\n\nexport default {\n  name: \"group-list-item\",\n  data() {\n    return {\n      show: false,\n      deleteButtonVariant: \"link\",\n      yesButtonVariant: \"danger\",\n      noButtonVariant: \"secondary\",\n      headerBgVariant: \"danger\",\n      bodyBgVariant: \"light\",\n      headerTextVariant: \"light\",\n      deleting: false,\n    };\n  },\n  props: [\"group\"],\n  components: {\n    \"gateway-groups-badge\": components.GatewayGroupsBadge,\n  },\n  computed: {\n    deleteable: function () {\n      return (\n        this.group.isOwner &&\n        // Don't allow deleting \"GatewayGroups\" groups since they serve\n        // a special function in the gateway\n        this.group.isGatewayAdminsGroup === false &&\n        this.group.isReadOnlyGatewayAdminsGroup === false &&\n        this.group.isDefaultGatewayUsersGroup === false\n      );\n    },\n    ownerUsername() {\n      const lastAtIndex = this.group.ownerId.lastIndexOf(\"@\");\n      if (lastAtIndex > 0) {\n        return this.group.ownerId.substring(0, lastAtIndex);\n      }\n      return this.group.ownerId;\n    },\n  },\n  methods: {\n    deleteGroup(id) {\n      this.deleting = true;\n      services.GroupService.delete({ lookup: id })\n        .then(() => {\n          this.$emit(\"deleteSuccess\", \"Group Deleted Successfully!\");\n          this.show = false;\n          this.deleting = false;\n        })\n        .catch(() => {\n          this.$emit(\"deleteFailed\", \"Group Delete Failed!\");\n          this.show = false;\n          this.deleting = false;\n        });\n    },\n  },\n};\n",{"version":3,"sources":["GroupListItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GroupListItem.vue","sourceRoot":"static/django_airavata_groups/js/group_components","sourcesContent":["<template>\n  <tr>\n    <td>\n      {{ group.name }}\n      <gateway-groups-badge\n        :group=\"group\"\n        v-if=\"\n          group.isGatewayAdminsGroup ||\n          group.isReadOnlyGatewayAdminsGroup ||\n          group.isDefaultGatewayUsersGroup\n        \"\n      />\n    </td>\n    <td>{{ ownerUsername }}</td>\n    <td>{{ group.description }}</td>\n    <td>\n      <a\n        v-if=\"group.isOwner || group.isAdmin\"\n        class=\"action-link\"\n        :href=\"'/groups/edit/' + encodeURIComponent(group.id) + '/'\"\n      >\n        Edit <i class=\"fa fa-edit\"></i>\n      </a>\n      <a\n        href=\"#\"\n        v-if=\"deleteable\"\n        class=\"action-link\"\n        @click=\"show = true\"\n        :variant=\"deleteButtonVariant\"\n      >\n        Delete <i class=\"fa fa-trash\"></i>\n      </a>\n      <b-modal\n        :header-bg-variant=\"headerBgVariant\"\n        :header-text-variant=\"headerTextVariant\"\n        :body-bg-variant=\"bodyBgVariant\"\n        v-model=\"show\"\n        :id=\"'modal' + group.id\"\n        title=\"Are you sure?\"\n      >\n        <p class=\"my-4\">\n          You cannot go back! Do you really want to delete the group '<strong>{{\n            group.name\n          }}</strong\n          >'?\n        </p>\n        <div slot=\"modal-footer\" class=\"w-100\">\n          <b-button\n            class=\"float-right ml-1\"\n            :variant=\"yesButtonVariant\"\n            :disabled=\"deleting\"\n            @click=\"deleteGroup(group.id)\"\n            >Yes</b-button\n          >\n          <b-button\n            class=\"float-right ml-1\"\n            :variant=\"noButtonVariant\"\n            :disabled=\"deleting\"\n            @click=\"show = false\"\n            >No</b-button\n          >\n        </div>\n      </b-modal>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport { services } from \"django-airavata-api\";\nimport { components } from \"django-airavata-common-ui\";\n\nexport default {\n  name: \"group-list-item\",\n  data() {\n    return {\n      show: false,\n      deleteButtonVariant: \"link\",\n      yesButtonVariant: \"danger\",\n      noButtonVariant: \"secondary\",\n      headerBgVariant: \"danger\",\n      bodyBgVariant: \"light\",\n      headerTextVariant: \"light\",\n      deleting: false,\n    };\n  },\n  props: [\"group\"],\n  components: {\n    \"gateway-groups-badge\": components.GatewayGroupsBadge,\n  },\n  computed: {\n    deleteable: function () {\n      return (\n        this.group.isOwner &&\n        // Don't allow deleting \"GatewayGroups\" groups since they serve\n        // a special function in the gateway\n        this.group.isGatewayAdminsGroup === false &&\n        this.group.isReadOnlyGatewayAdminsGroup === false &&\n        this.group.isDefaultGatewayUsersGroup === false\n      );\n    },\n    ownerUsername() {\n      const lastAtIndex = this.group.ownerId.lastIndexOf(\"@\");\n      if (lastAtIndex > 0) {\n        return this.group.ownerId.substring(0, lastAtIndex);\n      }\n      return this.group.ownerId;\n    },\n  },\n  methods: {\n    deleteGroup(id) {\n      this.deleting = true;\n      services.GroupService.delete({ lookup: id })\n        .then(() => {\n          this.$emit(\"deleteSuccess\", \"Group Deleted Successfully!\");\n          this.show = false;\n          this.deleting = false;\n        })\n        .catch(() => {\n          this.$emit(\"deleteFailed\", \"Group Delete Failed!\");\n          this.show = false;\n          this.deleting = false;\n        });\n    },\n  },\n};\n</script>\n\n<style></style>\n"]}]}