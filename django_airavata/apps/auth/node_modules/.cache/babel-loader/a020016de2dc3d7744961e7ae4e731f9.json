{"remainingRequest":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/thread-loader/dist/cjs.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/babel-loader/lib/index.js!/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/eslint-loader/index.js??ref--13-0!/home/vanishing/git/airavata-django-portal/django_airavata/apps/api/static/django_airavata_api/js/models/ComputeResourceReservation.js","dependencies":[{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/api/static/django_airavata_api/js/models/ComputeResourceReservation.js","mtime":1638641844319},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/cache-loader/dist/cjs.js","mtime":1638646228487},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/thread-loader/dist/cjs.js","mtime":1638646228889},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/babel-loader/lib/index.js","mtime":1638646261191},{"path":"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/eslint-loader/index.js","mtime":1638646227499}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vanishing/git/airavata-django-portal/django_airavata/apps/auth/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport BaseModel from \"./BaseModel\";\nimport uuidv4 from \"uuid/v4\";\n\nfunction currentTimeTopOfHour() {\n  var d = new Date();\n  d.setMinutes(0);\n  d.setSeconds(0);\n  d.setMilliseconds(0);\n  return d;\n}\n\nvar FIELDS = [\"reservationId\", \"reservationName\", {\n  name: \"queueNames\",\n  type: \"string\",\n  list: true\n}, {\n  name: \"startTime\",\n  type: Date,\n  default: function _default() {\n    return currentTimeTopOfHour();\n  }\n}, {\n  name: \"endTime\",\n  type: Date,\n  default: function _default() {\n    return currentTimeTopOfHour();\n  }\n}];\n\nvar ComputeResourceReservation = /*#__PURE__*/function (_BaseModel) {\n  _inherits(ComputeResourceReservation, _BaseModel);\n\n  var _super = _createSuper(ComputeResourceReservation);\n\n  function ComputeResourceReservation() {\n    var _this;\n\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ComputeResourceReservation);\n\n    _this = _super.call(this, FIELDS, data);\n    _this._key = data.key ? data.key : uuidv4();\n    return _this;\n  }\n\n  _createClass(ComputeResourceReservation, [{\n    key: \"validate\",\n    value: function validate() {\n      var validationResults = {};\n\n      if (this.isEmpty(this.reservationName)) {\n        validationResults[\"reservationName\"] = \"Please provide the name of this reservation.\";\n      }\n\n      if (this.startTime > this.endTime) {\n        validationResults[\"endTime\"] = \"End time must be later than start time.\";\n      }\n\n      if (this.isEmpty(this.queueNames)) {\n        validationResults[\"queueNames\"] = \"Please select at least one queue.\";\n      }\n\n      return validationResults;\n    }\n  }, {\n    key: \"key\",\n    get: function get() {\n      return this._key;\n    }\n  }, {\n    key: \"isExpired\",\n    get: function get() {\n      var now = new Date();\n      return now > this.endTime;\n    }\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      var now = new Date();\n      return this.startTime < now && now < this.endTime;\n    }\n  }, {\n    key: \"isUpcoming\",\n    get: function get() {\n      var now = new Date();\n      return now < this.startTime;\n    }\n  }]);\n\n  return ComputeResourceReservation;\n}(BaseModel);\n\nexport { ComputeResourceReservation as default };",{"version":3,"sources":["/home/vanishing/git/airavata-django-portal/django_airavata/apps/api/static/django_airavata_api/js/models/ComputeResourceReservation.js"],"names":["BaseModel","uuidv4","currentTimeTopOfHour","d","Date","setMinutes","setSeconds","setMilliseconds","FIELDS","name","type","list","default","ComputeResourceReservation","data","_key","key","validationResults","isEmpty","reservationName","startTime","endTime","queueNames","now"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,SAAP;AACA,OAAOC,MAAP,MAAmB,SAAnB;;AAEA,SAASC,oBAAT,GAAgC;AAC9B,MAAMC,CAAC,GAAG,IAAIC,IAAJ,EAAV;AACAD,EAAAA,CAAC,CAACE,UAAF,CAAa,CAAb;AACAF,EAAAA,CAAC,CAACG,UAAF,CAAa,CAAb;AACAH,EAAAA,CAAC,CAACI,eAAF,CAAkB,CAAlB;AACA,SAAOJ,CAAP;AACD;;AACD,IAAMK,MAAM,GAAG,CACb,eADa,EAEb,iBAFa,EAGb;AACEC,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,IAAI,EAAE;AAHR,CAHa,EAQb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAEN,IAFR;AAGEQ,EAAAA,OAAO,EAAE;AAAA,WAAMV,oBAAoB,EAA1B;AAAA;AAHX,CARa,EAab;AACEO,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAEN,IAFR;AAGEQ,EAAAA,OAAO,EAAE;AAAA,WAAMV,oBAAoB,EAA1B;AAAA;AAHX,CAba,CAAf;;IAoBqBW,0B;;;;;AACnB,wCAAuB;AAAA;;AAAA,QAAXC,IAAW,uEAAJ,EAAI;;AAAA;;AACrB,8BAAMN,MAAN,EAAcM,IAAd;AACA,UAAKC,IAAL,GAAYD,IAAI,CAACE,GAAL,GAAWF,IAAI,CAACE,GAAhB,GAAsBf,MAAM,EAAxC;AAFqB;AAGtB;;;;+BAIU;AACT,UAAIgB,iBAAiB,GAAG,EAAxB;;AACA,UAAI,KAAKC,OAAL,CAAa,KAAKC,eAAlB,CAAJ,EAAwC;AACtCF,QAAAA,iBAAiB,CAAC,iBAAD,CAAjB,GACE,8CADF;AAED;;AACD,UAAI,KAAKG,SAAL,GAAiB,KAAKC,OAA1B,EAAmC;AACjCJ,QAAAA,iBAAiB,CAAC,SAAD,CAAjB,GAA+B,yCAA/B;AACD;;AACD,UAAI,KAAKC,OAAL,CAAa,KAAKI,UAAlB,CAAJ,EAAmC;AACjCL,QAAAA,iBAAiB,CAAC,YAAD,CAAjB,GAAkC,mCAAlC;AACD;;AACD,aAAOA,iBAAP;AACD;;;wBAhBS;AACR,aAAO,KAAKF,IAAZ;AACD;;;wBAee;AACd,UAAMQ,GAAG,GAAG,IAAInB,IAAJ,EAAZ;AACA,aAAOmB,GAAG,GAAG,KAAKF,OAAlB;AACD;;;wBACc;AACb,UAAME,GAAG,GAAG,IAAInB,IAAJ,EAAZ;AACA,aAAO,KAAKgB,SAAL,GAAiBG,GAAjB,IAAwBA,GAAG,GAAG,KAAKF,OAA1C;AACD;;;wBACgB;AACf,UAAME,GAAG,GAAG,IAAInB,IAAJ,EAAZ;AACA,aAAOmB,GAAG,GAAG,KAAKH,SAAlB;AACD;;;;EAjCqDpB,S;;SAAnCa,0B","sourcesContent":["import BaseModel from \"./BaseModel\";\nimport uuidv4 from \"uuid/v4\";\n\nfunction currentTimeTopOfHour() {\n  const d = new Date();\n  d.setMinutes(0);\n  d.setSeconds(0);\n  d.setMilliseconds(0);\n  return d;\n}\nconst FIELDS = [\n  \"reservationId\",\n  \"reservationName\",\n  {\n    name: \"queueNames\",\n    type: \"string\",\n    list: true,\n  },\n  {\n    name: \"startTime\",\n    type: Date,\n    default: () => currentTimeTopOfHour(),\n  },\n  {\n    name: \"endTime\",\n    type: Date,\n    default: () => currentTimeTopOfHour(),\n  },\n];\n\nexport default class ComputeResourceReservation extends BaseModel {\n  constructor(data = {}) {\n    super(FIELDS, data);\n    this._key = data.key ? data.key : uuidv4();\n  }\n  get key() {\n    return this._key;\n  }\n  validate() {\n    let validationResults = {};\n    if (this.isEmpty(this.reservationName)) {\n      validationResults[\"reservationName\"] =\n        \"Please provide the name of this reservation.\";\n    }\n    if (this.startTime > this.endTime) {\n      validationResults[\"endTime\"] = \"End time must be later than start time.\";\n    }\n    if (this.isEmpty(this.queueNames)) {\n      validationResults[\"queueNames\"] = \"Please select at least one queue.\";\n    }\n    return validationResults;\n  }\n  get isExpired() {\n    const now = new Date();\n    return now > this.endTime;\n  }\n  get isActive() {\n    const now = new Date();\n    return this.startTime < now && now < this.endTime;\n  }\n  get isUpcoming() {\n    const now = new Date();\n    return now < this.startTime;\n  }\n}\n"]}]}